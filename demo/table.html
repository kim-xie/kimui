<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>表格demo</title>
  <style type="text/css">
	*{padding:0;margin:0;}
	body{family:"微软雅黑";font-size:12px;}
	a{text-decoration:none;}
	ul,ol li{list-style:none;} 
	
 </style>
 <link rel="stylesheet" href="../table/css/bootstrap.min.css" >
 <link rel="stylesheet" href="../table/bootstrap-table.min.css" >
 </head>
 <body>
	 <div style="margin:100px;">
		<table id="bootstrapTable"></table>
	 </div>
	 <!-- 引入工具包 -->
	 <script type="text/javascript" src="../util/jquery-3.0.0.min.js"></script>	
	 <script src="../table/js/bootstrap.min.js"></script>
	 <script src="../table/bootstrap-table.min.js"></script>
	 <script src="../table/locale/bootstrap-table-zh-CN.min.js"></script>
	 <script>
		$(function () {
			//1.初始化Table
			tableInit(columnsData);
		  });

		  $(window).resize(function () {
			tableInit(columnsData);
		  });

		  var columnsData = [
			{
			  "appIcon":0,
			  "appName":"流程银行",
			  "appUrl":"http://www.lcyh.com",
			  "appCode":"lcyh",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-30 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":1,
			  "appName":"柜面系统",
			  "appUrl":"http://www.guimian.com",
			  "appCode":"tele",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-27 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":0,
			  "appName":"流程银行",
			  "appUrl":"http://www.lcyh.com",
			  "appCode":"lcyh",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-30 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":1,
			  "appName":"柜面系统",
			  "appUrl":"http://www.guimian.com",
			  "appCode":"tele",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-27 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":0,
			  "appName":"流程银行",
			  "appUrl":"http://www.lcyh.com",
			  "appCode":"lcyh",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-30 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":1,
			  "appName":"柜面系统",
			  "appUrl":"http://www.guimian.com",
			  "appCode":"tele",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-27 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":0,
			  "appName":"流程银行",
			  "appUrl":"http://www.lcyh.com",
			  "appCode":"lcyh",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-30 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":1,
			  "appName":"柜面系统",
			  "appUrl":"http://www.guimian.com",
			  "appCode":"tele",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-27 12:00:00",
			  "operate":"修改"
			},{
			  "appIcon":0,
			  "appName":"流程银行",
			  "appUrl":"http://www.lcyh.com",
			  "appCode":"lcyh",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-30 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":1,
			  "appName":"柜面系统",
			  "appUrl":"http://www.guimian.com",
			  "appCode":"tele",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-27 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":0,
			  "appName":"流程银行",
			  "appUrl":"http://www.lcyh.com",
			  "appCode":"lcyh",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-30 12:00:00",
			  "operate":"修改"
			},
			{
			  "appIcon":1,
			  "appName":"柜面系统",
			  "appUrl":"http://www.guimian.com",
			  "appCode":"tele",
			  "appTag":"银行系统",
			  "appDesc":"银行级应用系统",
			  "currentTime":"2017-6-27 12:00:00",
			  "operate":"修改"
			}
		  ];

		function tableInit(columnsData) {
			$("#bootstrapTable").bootstrapTable('destroy'); // 显示之前，先把当前表格销毁
			$("#bootstrapTable").bootstrapTable({
			  //url: 'data.json',//请求数据的url
			  columns: [{
				field: 'appIcon',
				title: '应用图标',
				align: 'center',
				valign: 'middle',
				formatter: iconFormatter
			  }, {
				field: 'appName',
				title: '应用名称',
				align: 'center',
				valign: 'middle',
			  }, {
				field: 'appUrl',
				title: '应用链接',
				editable: true,
				align: 'center',
				valign: 'middle',
			  },
			  {
				field: 'appCode',
				title: '应用代码',
				align: 'center',
				valign: 'middle',
			  },
			  {
				field: 'appTag',
				title: '应用标签',
				editable: true,
				align: 'center',
				valign: 'middle',
			  }, {
				field: 'appDesc',
				title: '应用描述',
				editable: true,
				align: 'center',
				valign: 'middle',
			  }, {
				field: 'currentTime',
				title: '创建时间',
				sortable: true,
				align: 'center',
				valign: 'middle',
			  },
			  {
				field: 'operate',
				title: '操作',
				align: 'center',
				valign: 'middle',
				events: operateEvents,
				formatter: operateFormatter
			  }],//表格列头
			  data: columnsData,//表格数据
			//  classes: "table table-hover", // 表格的类名称
			//  sortClass: "", // 排序的列元素的类
			//  height: getHeight(), // 定义表格的高度
			//  undefinedText: "---", // 当数据为 undefined 时显示的字符
			  striped: true, // 隔行换色
			//  sortName: "currentTime", // 定义排序列
			//  sortOrder: "asc", // 定义排序方式 'asc' 或者 'desc'
			//  sortStable: true, // 设置为 true 将获得稳定的排序
			//  iconsPrefix: "", //定义字体库 ('Glyphicon' or 'fa' for FontAwesome)
			//  icons: "", //自定义图标
			//  ajax: function(){}, //自定义 AJAX 方法,须实现 jQuery AJAX API
			//  method: "post", // 服务器数据的请求方式 'get' or 'post'
			//  cache: false, // 设置为 false 禁用 AJAX 数据缓存
			//  contentType: "application/json", // 发送到服务器的数据编码类型
			//  dataType: "json", // 服务器返回的数据类型
			//  ajaxOptions: {}, // 提交ajax请求时的附加参数
			//  queryParams: function(params) { return params; }, // 请求服务器数据时
			//  queryParamsType: "limit", // 设置为 'limit' 则会发送符合 RESTFul 格式的参数
			//  responseHandler: function(res) { return res; }, // 加载服务器数据之前的处理程序，可以用来格式化数据。
			  pagination: true, // 设置为 true 会在表格底部显示分页条
			//  paginationLoop: true, // 设置为 true 启用分页条无限循环的功能。
			  onlyInfoPagination: false, // 设置为 true 只显示总数据数，而不显示分页按钮。需要 pagination='True'
			  sidePagination: "client", // 设置在哪里进行分页，可选值为 'client' 或者 'server'。设置 'server'时，必须设置 服务器数据地址（url）或者重写ajax方法
			  pageNumber: 1, // 如果设置了分页，首页页码
			  pageSize: 10, // 如果设置了分页，页面数据条数
			  pageList: [10, 25, 50, 100], // 如果设置了分页，设置可供选择的页面数据条数。设置为All 则显示所有记录。
			//  selectItemName: '', //radio or checkbox 的字段名
			  smartDisplay: true, // True to display pagination or card view smartly
			//  escape: false, // 转义HTML字符串，替换 &, <, >, ", `, 和 ' 字符.
			  search: true, // 是否启用搜索框
			  searchOnEnterKey: true, // 设置为 true时，按回车触发搜索方法，否则自动触发搜索方法
			  strictSearch: false, // 设置为 true启用 全匹配搜索，否则为模糊搜索
			  searchText: "", // 初始化搜索文字
			  searchTimeOut: 500, // 设置搜索超时时间
			  trimOnSearch: false, // 设置为 true 将允许空字符搜索
			  searchAlign: "right", // 指定搜索框 水平方向的位置。'left' or 'right'
			  buttonsAlign: "right", // 指定 按钮 水平方向的位置。'left' or 'right'
			  toolbarAlign: "left", // 指定 toolbar 水平方向的位置。'left' or 'right'
			  paginationVAlign: "bottom", // 指定 分页条 在垂直方向的位置。'top' or 'bottom' or 'bonth'
			  paginationHAlign: "right", // 指定 分页详细信息 在水平方向的位置。'left' or 'right'
			  paginationPreText: "<" , // 指定分页条中上一页按钮的图标或文字
			  paginationNextText: ">", // 指定分页条中下一页按钮的图标或文字
			  clickToSelect: true, // 设置true 将在点击行时，自动选择rediobox 和 checkbox
			  singleSelect: true, // 设置True 将禁止多选
			  toolbar: "#toolbar", //一个jQuery 选择器，指明自定义的toolbar 例如: #toolbar, .toolbar.
			// checkboxHeader: true, // 设置false 将在列头隐藏check-all checkbox .
			  maintainSelected: false, // 设置为 true 在点击分页按钮或搜索按钮时，将记住checkbox的选择项
			  sortable: true, // 设置为false 将禁止所有列的排序
			// silentSort: false, // 设置为 false 将在点击分页按钮时，自动记住排序项。仅在 sidePagination设置为 server时生效.
			// rowStyle: function(row,index) { return css; }, // 自定义行样式 参数为： row: 行数据 index: 行下标 返回值可以为class或者css
			// rowAttributes: function(row,index) { return attributes; }, //自定义行属性
			// customSearch: $.noop, // 自定义搜索方法
			// customSort: $.noop, // 自定义排序方法
			  showHeader: true, // 是否显示列头
			  showFooter: false, // 是否显示列脚
			  showColumns: true, // 是否显示 内容列下拉框
			  showRefresh: true, // 是否显示 刷新按钮
			  showToggle: true, // 是否显示 切换试图（table/card）按钮
			  showPaginationSwitch: true, // 是否显示 数据条数选择框
			  minimumCountColumns: 1, // 当列数小于此值时，将隐藏内容列下拉框。
			//  idField: undefined, // 指定主键列
			//  uniqueId: undefined, // Indicate an unique identifier for each row.
			//  cardView: false, // 设置为 true将显示card视图，适用于移动设备。否则为table试图，适用于pc
			  detailView: true, //设置为 true 可以显示详细页面模式。
			  detailFormatter: function(index, row){
				var html = [];
				$.each(row, function (key, value) {
					html.push('<p><b>' + key + ':</b> ' + value + '</p>');
				});
				return html.join('');
			  }, // 格式化详细页面模式的视图。
			});
		  }

		  function operateFormatter(value, row, index) {
			return [
			  '<a class="edit btn btn-primary-border" href="javascript:void(0)" title="修改">',
			  '<span>',
			  '<i class="glyphicon glyphicon-pencil"></i>',
			  '</span>',
			  '<span>',
			  '修改',
			  '</span>',
			  '</a>'
			].join('');
		  }

		  window.operateEvents = {
			'click .edit': function (e, value, row, index) {
			  alert('You click like action, row: ' + JSON.stringify(row));
			},
		  };

		  function iconFormatter(value, row, index) {
			return [
			  '<a class="appicon" href="javascript:void(0)" title='+row.appName+'>',
			  '<i class="glyphicon glyphicon-envelope" style="font-size:34px;"></i>',
			  '</a>'
			].join('');
		  }
	 </script>
 </body>
</html>
